# numerc-postfix

## Как использовать

## ./PhysicUnit/Unit.js 

В этом файле описан клас Unit. Данный класс хранит в себе описание конкретной физической размерности (например длина или время)

Класс устроен следующим образом. Поля:
- units - массив с ссылками на объекты. Каждый объект предсталяет конкретную единиицу измерения (нарпимер метр, фунт и т.д.)
- bySymbols - объект, у которого ключи это символ которым обозначается единица измерения. А значение - массив с ссылками на объекты из units. Позиция в массиве соответствует степнеи единицы измерения. Короче, это просто быстрый способ получить нужные элемент из units 
- byNames - объект, у которого ключи это имя единицы измерения. А значение - ссылка на объект из units. Короче, это просто быстрый способ получить нужный элемент из units 
- \_\_listNames - скрытый массив для ускорения работы функции StartWith

Методы:
- push - добавляем объект с информацией о единице измерения
- update - после того как все данные добаили через push, обновляем \_\_listNames для работы функции startWith
- startWith( str ) - принимает строку, в которой проверяет, начинается ли с она с какого-нибудь символа из имеющихся в данной размерности

Единиц измерения:
В тексте выше этот термин часто использовался, но не понятно какие поля должны быть у этого объекта и за что они отвечают

- isPrefixSupport - булевое значение. Если оно true, то при добавлении его в units, добавит еще ВСЕ комбинации с prefix. То есть добавит не только m, но и km, Mm, centim и т.д.
- name - строка. Имя единицы измерения
- symbol - строка. Сокращенное имя единицы измерения 
- defaultPower - число. Степень для конкретно этой единицы измерения. Например, длина измеряется в m, а площадь в m2, и defaultPower позоляет распознать единицу измерения как площадь
- power - число. Отображаемая а не фактическая степень. Например ha не имеет степени хотя фактически это m2
- conversionLvl - число. Чем больше число, тем выше приоритет этой единицы измерения. При операциях этот параметр учитывается для выбора в переводимые величины
- toMain - число или функция. Коэфициент перевода из текущей единицы измерения в некоторую базовую. (нужно описывать для единицы измерения в первой степени)
- fromMain - число или функция. Коэфициент перевода из некоторой базовой в текущюю единицу измерения. (нужно описывать для единицы измерения в первой степени)

Пример:

````js
const Unit = require('./PhysicUnit/Unit.js');

let Length = function ( ) { };
let NewUnit = Length;

NewUnit.prototype = Unit;
Unit.call( NewUnit );


NewUnit.push({
    name: 'meter',
    symbol: 'm',
    defaultPower: 1,
    power: 1,
    conversionLvl: 1000,
    toMain: 1,
    fromMain: 1,

    isPrefixSupport: true,
});

...

NewUnit.update();
````

## ./PhysicUnit/ComplexUnit.js

В этом файле описан класс ComplexUnit. Этот класс хранит ссылки на единицы измерения и степень в которой они находятся

Поля:
- type - Map. Ключи это ссылки на единицы измерения. Значения - степень  которой они находятся

Методы:
- addType( types, power ) - types: массив, power: число. Функция добаляет к текущим единицам измеения новую. В types задается массив, один из тех который лежит в Unit.symbols
- typeConversion( type ) - type: Unit, либо ComplexUnit.type. Если конвертация невозвожна то выдает ошибку. Иначе возвращет тип в который конвертируем
- TypeConversionKoef( type ) - type: Unit, либо ComplexUnit.type. 
- toString() - возвращает строку в виде 40m2

## ./PhysicUnit/UnitValue.js

В этом файле описан класс UnitValue. Этот класс хранит в себе ComplexType и Value

Поля:
- value - число. Значение 
- type - ComplexType. Единицы измерения

## Методы и объекты

